/*
 * @Author: guojufeng@ 
 * @Date: 2018-05-09 17:22:26
 * URL处理
*/

export let GetRequest = (url) =>{
  /*
   * 普通参数处理 - 获取url中"?"符后的字串
   * @param 参数配置
   * @param {string} 要处理的url，可以是自定义的，不填写默认为当前页面url 
   * ps: 返回值为null或者一个包含url参数的键值对象
  */
  let wUrl = url?url:window.location.href,
      theRequest = new Object();
  if (wUrl.indexOf("?") != -1) {
    let str = wUrl.substring(wUrl.indexOf("?")+1),
        strs = str.split("&");
    for(let i = 0; i < strs.length; i ++) {
      theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
    }
  }
  return theRequest;
};
export let dealHash = (key,str)=>{
  /*
   * vue中处理url - mode 为hash模式时，配合GetRequest使用
   * @param 参数配置
   * @param { GetRequest().key } 
   * @param { str } 自定义要取出的内容，原值为'#/'，后可以根据项目需求自行配置
  */
  let newKey = '';
  if(key){
    if(key.indexOf(str) != -1){
      newKey = key.substring(0,key.indexOf(str));
    }else{
      newKey = key;
    }
  }else{
     newKey = null;
  }
  return newKey;
};