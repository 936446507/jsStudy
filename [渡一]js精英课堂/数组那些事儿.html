<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <h1>请看控制台</h1>
  <ul id="ul">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>54</li>
    <li>5</li>
  </ul>
  <h1>push方法重构</h1>
  <pre>
    var pushArr = new Array(1,2,3,4);
    pushArr.__proto__.arrPush = function(){
      for(var key in arguments){
        this[this.length] = arguments[key];
      }
      return this;
    }
  </pre>
  <h3>直接在Array原型上操作</h3>
  <pre>
    Array.prototype.gjfPush = function(){
      console.log("直接在Array原型上操作")
      for(var key in arguments){
        this[this.length] = arguments[key];
      }
      return this;
    }
  </pre>
  <script src="xingorg1Utils.js"></script>
  <script>
    /* 数组的各个方法原理剖析 push、shift、unshift、pop等 */
    /* push方法重构 */
    var pushArr = new Array(1,2,3,4);
    pushArr.__proto__.arrPush = function(){
      for(var key in arguments){
        this[this.length] = arguments[key];
      }
      return this;
    }
    Array.prototype.gjfPush = function(){
      for(var key in arguments){
        this[this.length] = arguments[key];
        // 向往后边添加东西，就是往length位加东西
      }
      return this;
    }
    pushArr.gjfPush(5);
    console.log("新增后的数组：",pushArr)
    pushArr.arrPush(undefined,null,false,56,34,"23");
    console.log("新增后的数组：", pushArr)
    /* 纯数字数组 - 正排序、负排序、乱序 */
      var oLi = document.getElementsByTagName("li");
      // console.log(typeof oLi);
      // console.log(Array.prototype.slice.call(oLi));
      var arr = [12,61,7,21,357,215357,923,9723,53,1]
      /* 
      * @Author: guojufeng@ 
      * @Date: 2018-10-30 20:48:44
      * @params {array}: 要排序的数组
      * @params {type}: 数字，表示期望排序的顺序：1升序，2降序，3乱序
       */
      function getSort(array,type){
        if(xingorg1Utils.getType(array) == "object"){
          /* 伪数组转换为数组 */
          array = Array.prototype.slice.call(array);
        }
        array.sort((a,b)=>{
          /* 
            原理：返回值比较
            当返回值为负数时，两个参数中前面的数放在前边
            当返回值为正数时，两个参数中后面的数放在前边
            当返回值为0时，参数位置不动
            a,b代表当时比较的两位数，前边大于后边的，相减自然得正数。前边小于后边得，
          */
          if(type == 1){
            return a - b;
            // return 1;这样直接返回一个正数是不行额。
          }else if(type == 2){
            return - a + b;
            // return -1;这样直接返回一个负数是不行额。
          }else if(type == 3){
            /* 原理就是，math randow返回得时0-1得开区间，拿返回得数减去0.5的话，则会随机返回正数或者负数。正数就前边得放前边，负数就后边的放前边。总之就是乱来。 */
            let nowNum = Math.random();
            // console.log(nowNum,nowNum-0.5)
            return nowNum - 0.5;
          }
        })
        return array;
      }
      console.log(xingorg1Utils.sortNumber(arr,1))
      console.log(xingorg1Utils.sortNumber(arr,2))
      console.log(xingorg1Utils.sortNumber(arr,3))
      console.log(xingorg1Utils.sortNumber(oLi,2))
    </script>
</body>
</html>